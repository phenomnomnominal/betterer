// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`betterer upgrade should doesn't change things it doesn't need to change 1`] = `
Array [
  "
   / | /     _         _   _
 '-.ooo.-'  | |__  ___| |_| |_ ___ _ __ ___ _ __
---ooooo--- | '_ // _ / __| __/ _ / '__/ _ / '__|
 .-'ooo'-.  | |_)|  __/ |_| ||  __/ | |  __/ |
   / | /    |_.__//___|/__|/__/___|_|  /___|_|

üéâ Upgrading Betterer (0ms): 1 task done!
‚úÖ Upgrading \\"./.betterer.ts\\": done!
„Éª Nothing to upgrade!",
]
`;

exports[`betterer upgrade should upgrade exported constant built-in tests in a CommonJS module 1`] = `
Array [
  "
   / | /     _         _   _
 '-.ooo.-'  | |__  ___| |_| |_ ___ _ __ ___ _ __
---ooooo--- | '_ // _ / __| __/ _ / '__/ _ / '__|
 .-'ooo'-.  | |_)|  __/ |_| ||  __/ | |  __/ |
   / | /    |_.__//___|/__|/__/___|_|  /___|_|

üéâ Upgrading Betterer (0ms): 1 task done!
‚úÖ Upgrading \\"./.betterer.ts\\": done!
„Éª
„Éª Betterer can upgrade your test definition file automatically! ‚ú®
„Éª Here's what the changes will look like:
„Éª
„Éª - Before
„Éª + After
„Éª
„Éª   const { regexp } = require('@betterer/regexp');
„Éª
„Éª - module.exports.noHack = regexp(/HACK/i).include('**/*.ts');
„Éª + module.exports.noHack = () => regexp(/HACK/i).include('**/*.ts');
„Éª +
„Éª
„Éª If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. üíæ
„Éª",
]
`;

exports[`betterer upgrade should upgrade exported constant built-in tests in an ES module 1`] = `
Array [
  "
   / | /     _         _   _
 '-.ooo.-'  | |__  ___| |_| |_ ___ _ __ ___ _ __
---ooooo--- | '_ // _ / __| __/ _ / '__/ _ / '__|
 .-'ooo'-.  | |_)|  __/ |_| ||  __/ | |  __/ |
   / | /    |_.__//___|/__|/__/___|_|  /___|_|

üéâ Upgrading Betterer (0ms): 1 task done!
‚úÖ Upgrading \\"./.betterer.ts\\": done!
„Éª
„Éª Betterer can upgrade your test definition file automatically! ‚ú®
„Éª Here's what the changes will look like:
„Éª
„Éª - Before
„Éª + After
„Éª
„Éª   import { regexp } from '@betterer/regexp';
„Éª
„Éª - export const noHack = regexp(/HACK/i).include('**/*.ts');
„Éª + export const noHack = () => regexp(/HACK/i).include('**/*.ts');
„Éª +
„Éª
„Éª If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. üíæ
„Éª",
]
`;

exports[`betterer upgrade should upgrade exported constant file tests in a CommonJS module 1`] = `
Array [
  "
   / | /     _         _   _
 '-.ooo.-'  | |__  ___| |_| |_ ___ _ __ ___ _ __
---ooooo--- | '_ // _ / __| __/ _ / '__/ _ / '__|
 .-'ooo'-.  | |_)|  __/ |_| ||  __/ | |  __/ |
   / | /    |_.__//___|/__|/__/___|_|  /___|_|

üéâ Upgrading Betterer (0ms): 1 task done!
‚úÖ Upgrading \\"./.betterer.ts\\": done!
„Éª
„Éª Betterer can upgrade your test definition file automatically! ‚ú®
„Éª Here's what the changes will look like:
„Éª
„Éª - Before
„Éª + After
„Éª
„Éª   const { BettererFileTest } = require('@betterer/betterer');
„Éª
„Éª - module.exports.countFiles = new BettererFileTest(async (files, fileTestResult) => {
„Éª -   const [filePath] = files;
„Éª + module.exports.countFiles = () =>
„Éª +   new BettererFileTest(async (files, fileTestResult) => {
„Éª +     const [filePath] = files;
„Éª -   const file = fileTestResult.addFile(filePath, '');
„Éª +     const file = fileTestResult.addFile(filePath, '');
„Éª -   file.addIssue(0, 0, '\`$' + '{key}\`');
„Éª +     file.addIssue(0, 0, '\`$' + '{key}\`');
„Éª - });
„Éª +   });
„Éª +
„Éª
„Éª If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. üíæ
„Éª",
]
`;

exports[`betterer upgrade should upgrade exported constant file tests in an ES module 1`] = `
Array [
  "
   / | /     _         _   _
 '-.ooo.-'  | |__  ___| |_| |_ ___ _ __ ___ _ __
---ooooo--- | '_ // _ / __| __/ _ / '__/ _ / '__|
 .-'ooo'-.  | |_)|  __/ |_| ||  __/ | |  __/ |
   / | /    |_.__//___|/__|/__/___|_|  /___|_|

üéâ Upgrading Betterer (0ms): 1 task done!
‚úÖ Upgrading \\"./.betterer.ts\\": done!
„Éª
„Éª Betterer can upgrade your test definition file automatically! ‚ú®
„Éª Here's what the changes will look like:
„Éª
„Éª - Before
„Éª + After
„Éª
„Éª   import { BettererFileTest } from '@betterer/betterer';
„Éª
„Éª - export const countFiles = new BettererFileTest(async (files, fileTestResult) => {
„Éª -   const [filePath] = files;
„Éª + export const countFiles = () =>
„Éª +   new BettererFileTest(async (files, fileTestResult) => {
„Éª +     const [filePath] = files;
„Éª -   const file = fileTestResult.addFile(filePath, '');
„Éª +     const file = fileTestResult.addFile(filePath, '');
„Éª -   file.addIssue(0, 0, '\`$' + '{key}\`');
„Éª +     file.addIssue(0, 0, '\`$' + '{key}\`');
„Éª - });
„Éª +   });
„Éª +
„Éª
„Éª If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. üíæ
„Éª",
]
`;

exports[`betterer upgrade should upgrade exported constant file tests with include in a CommonJS module 1`] = `
Array [
  "
   / | /     _         _   _
 '-.ooo.-'  | |__  ___| |_| |_ ___ _ __ ___ _ __
---ooooo--- | '_ // _ / __| __/ _ / '__/ _ / '__|
 .-'ooo'-.  | |_)|  __/ |_| ||  __/ | |  __/ |
   / | /    |_.__//___|/__|/__/___|_|  /___|_|

üéâ Upgrading Betterer (0ms): 1 task done!
‚úÖ Upgrading \\"./.betterer.ts\\": done!
„Éª
„Éª Betterer can upgrade your test definition file automatically! ‚ú®
„Éª Here's what the changes will look like:
„Éª
„Éª - Before
„Éª + After
„Éª
„Éª   const { BettererFileTest } = require('@betterer/betterer');
„Éª
„Éª - module.exports.countFiles = new BettererFileTest(async (files, fileTestResult) => {
„Éª -   const [filePath] = files;
„Éª + module.exports.countFiles = () =>
„Éª +   new BettererFileTest(async (files, fileTestResult) => {
„Éª +     const [filePath] = files;
„Éª -   const file = fileTestResult.addFile(filePath, '');
„Éª +     const file = fileTestResult.addFile(filePath, '');
„Éª -   file.addIssue(0, 0, '\`$' + '{key}\`');
„Éª +     file.addIssue(0, 0, '\`$' + '{key}\`');
„Éª - }).include('./src/**/*.ts');
„Éª +   }).include('./src/**/*.ts');
„Éª +
„Éª
„Éª If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. üíæ
„Éª",
]
`;

exports[`betterer upgrade should upgrade exported constant file tests with include in an ES module 1`] = `
Array [
  "
   / | /     _         _   _
 '-.ooo.-'  | |__  ___| |_| |_ ___ _ __ ___ _ __
---ooooo--- | '_ // _ / __| __/ _ / '__/ _ / '__|
 .-'ooo'-.  | |_)|  __/ |_| ||  __/ | |  __/ |
   / | /    |_.__//___|/__|/__/___|_|  /___|_|

üéâ Upgrading Betterer (0ms): 1 task done!
‚úÖ Upgrading \\"./.betterer.ts\\": done!
„Éª
„Éª Betterer can upgrade your test definition file automatically! ‚ú®
„Éª Here's what the changes will look like:
„Éª
„Éª - Before
„Éª + After
„Éª
„Éª   import { BettererFileTest } from '@betterer/betterer';
„Éª
„Éª - export const countFiles = new BettererFileTest(async (files, fileTestResult) => {
„Éª -   const [filePath] = files;
„Éª + export const countFiles = () =>
„Éª +   new BettererFileTest(async (files, fileTestResult) => {
„Éª +     const [filePath] = files;
„Éª -   const file = fileTestResult.addFile(filePath, '');
„Éª +     const file = fileTestResult.addFile(filePath, '');
„Éª -   file.addIssue(0, 0, '\`$' + '{key}\`');
„Éª +     file.addIssue(0, 0, '\`$' + '{key}\`');
„Éª - }).include('./src/**/*.ts');
„Éª +   }).include('./src/**/*.ts');
„Éª +
„Éª
„Éª If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. üíæ
„Éª",
]
`;

exports[`betterer upgrade should upgrade exported constant objects in a CommonJS module 1`] = `
Array [
  "
   / | /     _         _   _
 '-.ooo.-'  | |__  ___| |_| |_ ___ _ __ ___ _ __
---ooooo--- | '_ // _ / __| __/ _ / '__/ _ / '__|
 .-'ooo'-.  | |_)|  __/ |_| ||  __/ | |  __/ |
   / | /    |_.__//___|/__|/__/___|_|  /___|_|

üéâ Upgrading Betterer (0ms): 1 task done!
‚úÖ Upgrading \\"./.betterer.ts\\": done!
„Éª
„Éª Betterer can upgrade your test definition file automatically! ‚ú®
„Éª Here's what the changes will look like:
„Éª
„Éª - Before
„Éª + After
„Éª
„Éª + const { BettererTest } = require('@betterer/betterer');
„Éª   const { bigger } = require('@betterer/constraints');
„Éª
„Éª   let start = 0;
„Éª
„Éª - module.exports.getsBetter = {
„Éª + module.exports.getsBetter = () =>
„Éª +   new BettererTest({
„Éª -   test: () => start++,
„Éª +     test: () => start++,
„Éª -   constraint: bigger
„Éª +     constraint: bigger
„Éª - };
„Éª +   });
„Éª +
„Éª
„Éª If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. üíæ
„Éª",
]
`;

exports[`betterer upgrade should upgrade exported constant objects in an ES module 1`] = `
Array [
  "
   / | /     _         _   _
 '-.ooo.-'  | |__  ___| |_| |_ ___ _ __ ___ _ __
---ooooo--- | '_ // _ / __| __/ _ / '__/ _ / '__|
 .-'ooo'-.  | |_)|  __/ |_| ||  __/ | |  __/ |
   / | /    |_.__//___|/__|/__/___|_|  /___|_|

üéâ Upgrading Betterer (0ms): 1 task done!
‚úÖ Upgrading \\"./.betterer.ts\\": done!
„Éª
„Éª Betterer can upgrade your test definition file automatically! ‚ú®
„Éª Here's what the changes will look like:
„Éª
„Éª - Before
„Éª + After
„Éª
„Éª + import { BettererTest } from '@betterer/betterer';
„Éª   import { bigger } from '@betterer/constraints';
„Éª
„Éª   let start = 0;
„Éª
„Éª - export const getsBetter = {
„Éª -   test: () => start++,
„Éª + export const getsBetter = () =>
„Éª +   new BettererTest({
„Éª +     test: () => start++,
„Éª -   constraint: bigger
„Éª +     constraint: bigger
„Éª - };
„Éª +   });
„Éª +
„Éª
„Éª If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. üíæ
„Éª",
]
`;

exports[`betterer upgrade should upgrade exported constant tests in a CommonJS module 1`] = `
Array [
  "
   / | /     _         _   _
 '-.ooo.-'  | |__  ___| |_| |_ ___ _ __ ___ _ __
---ooooo--- | '_ // _ / __| __/ _ / '__/ _ / '__|
 .-'ooo'-.  | |_)|  __/ |_| ||  __/ | |  __/ |
   / | /    |_.__//___|/__|/__/___|_|  /___|_|

üéâ Upgrading Betterer (0ms): 1 task done!
‚úÖ Upgrading \\"./.betterer.ts\\": done!
„Éª
„Éª Betterer can upgrade your test definition file automatically! ‚ú®
„Éª Here's what the changes will look like:
„Éª
„Éª - Before
„Éª + After
„Éª
„Éª   const { BettererTest } = require('@betterer/betterer');
„Éª   const { bigger } = require('@betterer/constraints');
„Éª
„Éª   let start = 0;
„Éª
„Éª - module.exports.getsBetter = new BettererTest({
„Éª + module.exports.getsBetter = () =>
„Éª +   new BettererTest({
„Éª -   test: () => start++,
„Éª +     test: () => start++,
„Éª -   constraint: bigger
„Éª +     constraint: bigger
„Éª - });
„Éª +   });
„Éª +
„Éª
„Éª If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. üíæ
„Éª",
]
`;

exports[`betterer upgrade should upgrade exported constant tests in an ES module 1`] = `
Array [
  "
   / | /     _         _   _
 '-.ooo.-'  | |__  ___| |_| |_ ___ _ __ ___ _ __
---ooooo--- | '_ // _ / __| __/ _ / '__/ _ / '__|
 .-'ooo'-.  | |_)|  __/ |_| ||  __/ | |  __/ |
   / | /    |_.__//___|/__|/__/___|_|  /___|_|

üéâ Upgrading Betterer (0ms): 1 task done!
‚úÖ Upgrading \\"./.betterer.ts\\": done!
„Éª
„Éª Betterer can upgrade your test definition file automatically! ‚ú®
„Éª Here's what the changes will look like:
„Éª
„Éª - Before
„Éª + After
„Éª
„Éª   import { BettererTest } from '@betterer/betterer';
„Éª   import { bigger } from '@betterer/constraints';
„Éª
„Éª   let start = 0;
„Éª
„Éª - export const getsBetter = new BettererTest({
„Éª + export const getsBetter = () =>
„Éª +   new BettererTest({
„Éª -   test: () => start++,
„Éª +     test: () => start++,
„Éª -   constraint: bigger
„Éª +     constraint: bigger
„Éª - });
„Éª +   });
„Éª +
„Éª
„Éª If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. üíæ
„Éª",
]
`;

exports[`betterer upgrade should upgrade exported default test in a CJS module 1`] = `
"const { BettererTest, BettererFileTest } = require('@betterer/betterer');
const { bigger } = require('@betterer/constraints');

let start = 0;

module.exports = {
  getsBetter: () =>
    new BettererTest({
      test: () => start++,
      constraint: bigger
    }),
  'gets better': () =>
    new BettererTest({
      test: () => start++,
      constraint: bigger
    }),
  countFiles: () =>
    new BettererFileTest(async (files, fileTestResult) => {
      const [filePath] = files;
      const file = fileTestResult.addFile(filePath, '');
      file.addIssue(0, 0, '\`$' + '{key}\`');
    }),
  'count files': () =>
    new BettererFileTest(async (files, fileTestResult) => {
      const [filePath] = files;
      const file = fileTestResult.addFile(filePath, '');
      file.addIssue(0, 0, '\`$' + '{key}\`');
    }).include('./src/**/*.ts')
};
"
`;

exports[`betterer upgrade should upgrade exported default test in a CJS module 2`] = `
Array [
  "
   / | /     _         _   _
 '-.ooo.-'  | |__  ___| |_| |_ ___ _ __ ___ _ __
---ooooo--- | '_ // _ / __| __/ _ / '__/ _ / '__|
 .-'ooo'-.  | |_)|  __/ |_| ||  __/ | |  __/ |
   / | /    |_.__//___|/__|/__/___|_|  /___|_|

üéâ Upgrading Betterer (0ms): 1 task done!
‚úÖ Upgrading \\"./.betterer.ts\\": done!
„Éª
„Éª Betterer can upgrade your test definition file automatically! ‚ú®
„Éª Here's what the changes will look like:
„Éª
„Éª - Before
„Éª + After
„Éª
„Éª   const { BettererTest, BettererFileTest } = require('@betterer/betterer');
„Éª   const { bigger } = require('@betterer/constraints');
„Éª
„Éª   let start = 0;
„Éª
„Éª   module.exports = {
„Éª -   getsBetter: {
„Éª -     test: () => start++,
„Éª +   getsBetter: () =>
„Éª +     new BettererTest({
„Éª +       test: () => start++,
„Éª -     constraint: bigger
„Éª +       constraint: bigger
„Éª -   },
„Éª +     }),
„Éª -   'gets better': new BettererTest({
„Éª +   'gets better': () =>
„Éª +     new BettererTest({
„Éª -     test: () => start++,
„Éª +       test: () => start++,
„Éª -     constraint: bigger
„Éª +       constraint: bigger
„Éª -   }),
„Éª +     }),
„Éª -   countFiles: new BettererFileTest(async (files, fileTestResult) => {
„Éª -     const [filePath] = files;
„Éª +   countFiles: () =>
„Éª +     new BettererFileTest(async (files, fileTestResult) => {
„Éª +       const [filePath] = files;
„Éª -     const file = fileTestResult.addFile(filePath, '');
„Éª +       const file = fileTestResult.addFile(filePath, '');
„Éª -     file.addIssue(0, 0, '\`$' + '{key}\`');
„Éª +       file.addIssue(0, 0, '\`$' + '{key}\`');
„Éª -   }),
„Éª +     }),
„Éª -   'count files': new BettererFileTest(async (files, fileTestResult) => {
„Éª -     const [filePath] = files;
„Éª +   'count files': () =>
„Éª +     new BettererFileTest(async (files, fileTestResult) => {
„Éª +       const [filePath] = files;
„Éª -     const file = fileTestResult.addFile(filePath, '');
„Éª +       const file = fileTestResult.addFile(filePath, '');
„Éª -     file.addIssue(0, 0, '\`$' + '{key}\`');
„Éª +       file.addIssue(0, 0, '\`$' + '{key}\`');
„Éª -   }).include('./src/**/*.ts')
„Éª +     }).include('./src/**/*.ts')
„Éª - }
„Éª + };
„Éª +
„Éª
„Éª If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. üíæ
„Éª",
  "
   / | /     _         _   _
 '-.ooo.-'  | |__  ___| |_| |_ ___ _ __ ___ _ __
---ooooo--- | '_ // _ / __| __/ _ / '__/ _ / '__|
 .-'ooo'-.  | |_)|  __/ |_| ||  __/ | |  __/ |
   / | /    |_.__//___|/__|/__/___|_|  /___|_|

üéâ Upgrading Betterer (0ms): 1 task done!
‚úÖ Upgrading \\"./.betterer.ts\\": done!
„Éª Saved upgraded config to \\"<project>/fixtures/upgrade-exported-default-test-cjs/.betterer.ts\\"! ‚òÄÔ∏è",
]
`;

exports[`betterer upgrade should upgrade exported default test in an ES module 1`] = `
"import { BettererTest, BettererFileTest } from '@betterer/betterer';
import { bigger } from '@betterer/constraints';

let start = 0;

export default {
  getsBetter: () =>
    new BettererTest({
      test: () => start++,
      constraint: bigger
    }),
  'gets better': () =>
    new BettererTest({
      test: () => start++,
      constraint: bigger
    }),
  countFiles: () =>
    new BettererFileTest(async (files, fileTestResult) => {
      const [filePath] = files;
      const file = fileTestResult.addFile(filePath, '');
      file.addIssue(0, 0, '\`$' + '{key}\`');
    }),
  'count files': () =>
    new BettererFileTest(async (files, fileTestResult) => {
      const [filePath] = files;
      const file = fileTestResult.addFile(filePath, '');
      file.addIssue(0, 0, '\`$' + '{key}\`');
    }).include('./src/**/*.ts')
};
"
`;

exports[`betterer upgrade should upgrade exported default test in an ES module 2`] = `
Array [
  "
   / | /     _         _   _
 '-.ooo.-'  | |__  ___| |_| |_ ___ _ __ ___ _ __
---ooooo--- | '_ // _ / __| __/ _ / '__/ _ / '__|
 .-'ooo'-.  | |_)|  __/ |_| ||  __/ | |  __/ |
   / | /    |_.__//___|/__|/__/___|_|  /___|_|

üéâ Upgrading Betterer (0ms): 1 task done!
‚úÖ Upgrading \\"./.betterer.ts\\": done!
„Éª
„Éª Betterer can upgrade your test definition file automatically! ‚ú®
„Éª Here's what the changes will look like:
„Éª
„Éª - Before
„Éª + After
„Éª
„Éª   import { BettererTest, BettererFileTest } from '@betterer/betterer';
„Éª   import { bigger } from '@betterer/constraints';
„Éª
„Éª   let start = 0;
„Éª
„Éª   export default {
„Éª -   getsBetter: {
„Éª -     test: () => start++,
„Éª +   getsBetter: () =>
„Éª +     new BettererTest({
„Éª +       test: () => start++,
„Éª -     constraint: bigger
„Éª +       constraint: bigger
„Éª -   },
„Éª +     }),
„Éª -   'gets better': new BettererTest({
„Éª +   'gets better': () =>
„Éª +     new BettererTest({
„Éª -     test: () => start++,
„Éª +       test: () => start++,
„Éª -     constraint: bigger
„Éª +       constraint: bigger
„Éª -   }),
„Éª +     }),
„Éª -   countFiles: new BettererFileTest(async (files, fileTestResult) => {
„Éª -     const [filePath] = files;
„Éª +   countFiles: () =>
„Éª +     new BettererFileTest(async (files, fileTestResult) => {
„Éª +       const [filePath] = files;
„Éª -     const file = fileTestResult.addFile(filePath, '');
„Éª +       const file = fileTestResult.addFile(filePath, '');
„Éª -     file.addIssue(0, 0, '\`$' + '{key}\`');
„Éª +       file.addIssue(0, 0, '\`$' + '{key}\`');
„Éª -   }),
„Éª +     }),
„Éª -   'count files': new BettererFileTest(async (files, fileTestResult) => {
„Éª -     const [filePath] = files;
„Éª +   'count files': () =>
„Éª +     new BettererFileTest(async (files, fileTestResult) => {
„Éª +       const [filePath] = files;
„Éª -     const file = fileTestResult.addFile(filePath, '');
„Éª +       const file = fileTestResult.addFile(filePath, '');
„Éª -     file.addIssue(0, 0, '\`$' + '{key}\`');
„Éª +       file.addIssue(0, 0, '\`$' + '{key}\`');
„Éª -   }).include('./src/**/*.ts')
„Éª +     }).include('./src/**/*.ts')
„Éª - }
„Éª + };
„Éª +
„Éª
„Éª If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. üíæ
„Éª",
  "
   / | /     _         _   _
 '-.ooo.-'  | |__  ___| |_| |_ ___ _ __ ___ _ __
---ooooo--- | '_ // _ / __| __/ _ / '__/ _ / '__|
 .-'ooo'-.  | |_)|  __/ |_| ||  __/ | |  __/ |
   / | /    |_.__//___|/__|/__/___|_|  /___|_|

üéâ Upgrading Betterer (0ms): 1 task done!
‚úÖ Upgrading \\"./.betterer.ts\\": done!
„Éª Saved upgraded config to \\"<project>/fixtures/upgrade-exported-default-test-esm/.betterer.ts\\"! ‚òÄÔ∏è",
]
`;
