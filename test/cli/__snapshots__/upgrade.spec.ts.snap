// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`betterer upgrade should doesn't change things it doesn't need to change 1`] = `
Array [
  "ğŸ‰ Upgrading Betterer (0ms): 1 task done!
âœ… Upgrading \\"./.betterer.ts\\": done!
ãƒ» Nothing to upgrade!",
]
`;

exports[`betterer upgrade should upgrade exported constant built-in tests in a CommonJS module 1`] = `
Array [
  "ğŸ‰ Upgrading Betterer (0ms): 1 task done!
âœ… Upgrading \\"./.betterer.ts\\": done!
ãƒ»
ãƒ» Betterer can upgrade your test definition file automatically! âœ¨
ãƒ» Here's what the changes will look like:
ãƒ»
ãƒ» - Before
ãƒ» + After
ãƒ»
ãƒ»   const { regexp } = require('@betterer/regexp');
ãƒ»
ãƒ» - module.exports.noHack = regexp(/HACK/i).include('**/*.ts');
ãƒ» + module.exports.noHack = () => regexp(/HACK/i).include('**/*.ts');
ãƒ» +
ãƒ»
ãƒ» If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. ğŸ’¾
ãƒ»",
]
`;

exports[`betterer upgrade should upgrade exported constant built-in tests in an ES module 1`] = `
Array [
  "ğŸ‰ Upgrading Betterer (0ms): 1 task done!
âœ… Upgrading \\"./.betterer.ts\\": done!
ãƒ»
ãƒ» Betterer can upgrade your test definition file automatically! âœ¨
ãƒ» Here's what the changes will look like:
ãƒ»
ãƒ» - Before
ãƒ» + After
ãƒ»
ãƒ»   import { regexp } from '@betterer/regexp';
ãƒ»
ãƒ» - export const noHack = regexp(/HACK/i).include('**/*.ts');
ãƒ» + export const noHack = () => regexp(/HACK/i).include('**/*.ts');
ãƒ» +
ãƒ»
ãƒ» If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. ğŸ’¾
ãƒ»",
]
`;

exports[`betterer upgrade should upgrade exported constant file tests in a CommonJS module 1`] = `
Array [
  "ğŸ‰ Upgrading Betterer (0ms): 1 task done!
âœ… Upgrading \\"./.betterer.ts\\": done!
ãƒ»
ãƒ» Betterer can upgrade your test definition file automatically! âœ¨
ãƒ» Here's what the changes will look like:
ãƒ»
ãƒ» - Before
ãƒ» + After
ãƒ»
ãƒ»   const { BettererFileTest } = require('@betterer/betterer');
ãƒ»
ãƒ» - module.exports.countFiles = new BettererFileTest(async (files, fileTestResult) => {
ãƒ» -   const [filePath] = files;
ãƒ» + module.exports.countFiles = () =>
ãƒ» +   new BettererFileTest(async (files, fileTestResult) => {
ãƒ» +     const [filePath] = files;
ãƒ» -   const file = fileTestResult.addFile(filePath, '');
ãƒ» +     const file = fileTestResult.addFile(filePath, '');
ãƒ» -   file.addIssue(0, 0, '\`$' + '{key}\`');
ãƒ» +     file.addIssue(0, 0, '\`$' + '{key}\`');
ãƒ» - });
ãƒ» +   });
ãƒ» +
ãƒ»
ãƒ» If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. ğŸ’¾
ãƒ»",
]
`;

exports[`betterer upgrade should upgrade exported constant file tests in an ES module 1`] = `
Array [
  "ğŸ‰ Upgrading Betterer (0ms): 1 task done!
âœ… Upgrading \\"./.betterer.ts\\": done!
ãƒ»
ãƒ» Betterer can upgrade your test definition file automatically! âœ¨
ãƒ» Here's what the changes will look like:
ãƒ»
ãƒ» - Before
ãƒ» + After
ãƒ»
ãƒ»   import { BettererFileTest } from '@betterer/betterer';
ãƒ»
ãƒ» - export const countFiles = new BettererFileTest(async (files, fileTestResult) => {
ãƒ» -   const [filePath] = files;
ãƒ» + export const countFiles = () =>
ãƒ» +   new BettererFileTest(async (files, fileTestResult) => {
ãƒ» +     const [filePath] = files;
ãƒ» -   const file = fileTestResult.addFile(filePath, '');
ãƒ» +     const file = fileTestResult.addFile(filePath, '');
ãƒ» -   file.addIssue(0, 0, '\`$' + '{key}\`');
ãƒ» +     file.addIssue(0, 0, '\`$' + '{key}\`');
ãƒ» - });
ãƒ» +   });
ãƒ» +
ãƒ»
ãƒ» If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. ğŸ’¾
ãƒ»",
]
`;

exports[`betterer upgrade should upgrade exported constant file tests with include in a CommonJS module 1`] = `
Array [
  "ğŸ‰ Upgrading Betterer (0ms): 1 task done!
âœ… Upgrading \\"./.betterer.ts\\": done!
ãƒ»
ãƒ» Betterer can upgrade your test definition file automatically! âœ¨
ãƒ» Here's what the changes will look like:
ãƒ»
ãƒ» - Before
ãƒ» + After
ãƒ»
ãƒ»   const { BettererFileTest } = require('@betterer/betterer');
ãƒ»
ãƒ» - module.exports.countFiles = new BettererFileTest(async (files, fileTestResult) => {
ãƒ» -   const [filePath] = files;
ãƒ» + module.exports.countFiles = () =>
ãƒ» +   new BettererFileTest(async (files, fileTestResult) => {
ãƒ» +     const [filePath] = files;
ãƒ» -   const file = fileTestResult.addFile(filePath, '');
ãƒ» +     const file = fileTestResult.addFile(filePath, '');
ãƒ» -   file.addIssue(0, 0, '\`$' + '{key}\`');
ãƒ» +     file.addIssue(0, 0, '\`$' + '{key}\`');
ãƒ» - }).include('./src/**/*.ts');
ãƒ» +   }).include('./src/**/*.ts');
ãƒ» +
ãƒ»
ãƒ» If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. ğŸ’¾
ãƒ»",
]
`;

exports[`betterer upgrade should upgrade exported constant file tests with include in an ES module 1`] = `
Array [
  "ğŸ‰ Upgrading Betterer (0ms): 1 task done!
âœ… Upgrading \\"./.betterer.ts\\": done!
ãƒ»
ãƒ» Betterer can upgrade your test definition file automatically! âœ¨
ãƒ» Here's what the changes will look like:
ãƒ»
ãƒ» - Before
ãƒ» + After
ãƒ»
ãƒ»   import { BettererFileTest } from '@betterer/betterer';
ãƒ»
ãƒ» - export const countFiles = new BettererFileTest(async (files, fileTestResult) => {
ãƒ» -   const [filePath] = files;
ãƒ» + export const countFiles = () =>
ãƒ» +   new BettererFileTest(async (files, fileTestResult) => {
ãƒ» +     const [filePath] = files;
ãƒ» -   const file = fileTestResult.addFile(filePath, '');
ãƒ» +     const file = fileTestResult.addFile(filePath, '');
ãƒ» -   file.addIssue(0, 0, '\`$' + '{key}\`');
ãƒ» +     file.addIssue(0, 0, '\`$' + '{key}\`');
ãƒ» - }).include('./src/**/*.ts');
ãƒ» +   }).include('./src/**/*.ts');
ãƒ» +
ãƒ»
ãƒ» If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. ğŸ’¾
ãƒ»",
]
`;

exports[`betterer upgrade should upgrade exported constant objects in a CommonJS module 1`] = `
Array [
  "ğŸ‰ Upgrading Betterer (0ms): 1 task done!
âœ… Upgrading \\"./.betterer.ts\\": done!
ãƒ»
ãƒ» Betterer can upgrade your test definition file automatically! âœ¨
ãƒ» Here's what the changes will look like:
ãƒ»
ãƒ» - Before
ãƒ» + After
ãƒ»
ãƒ» + const { BettererTest } = require('@betterer/betterer');
ãƒ»   const { bigger } = require('@betterer/constraints');
ãƒ»
ãƒ»   let start = 0;
ãƒ»
ãƒ» - module.exports.getsBetter = {
ãƒ» + module.exports.getsBetter = () =>
ãƒ» +   new BettererTest({
ãƒ» -   test: () => start++,
ãƒ» +     test: () => start++,
ãƒ» -   constraint: bigger
ãƒ» +     constraint: bigger
ãƒ» - };
ãƒ» +   });
ãƒ» +
ãƒ»
ãƒ» If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. ğŸ’¾
ãƒ»",
]
`;

exports[`betterer upgrade should upgrade exported constant objects in an ES module 1`] = `
Array [
  "ğŸ‰ Upgrading Betterer (0ms): 1 task done!
âœ… Upgrading \\"./.betterer.ts\\": done!
ãƒ»
ãƒ» Betterer can upgrade your test definition file automatically! âœ¨
ãƒ» Here's what the changes will look like:
ãƒ»
ãƒ» - Before
ãƒ» + After
ãƒ»
ãƒ» + import { BettererTest } from '@betterer/betterer';
ãƒ»   import { bigger } from '@betterer/constraints';
ãƒ»
ãƒ»   let start = 0;
ãƒ»
ãƒ» - export const getsBetter = {
ãƒ» -   test: () => start++,
ãƒ» + export const getsBetter = () =>
ãƒ» +   new BettererTest({
ãƒ» +     test: () => start++,
ãƒ» -   constraint: bigger
ãƒ» +     constraint: bigger
ãƒ» - };
ãƒ» +   });
ãƒ» +
ãƒ»
ãƒ» If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. ğŸ’¾
ãƒ»",
]
`;

exports[`betterer upgrade should upgrade exported constant tests in a CommonJS module 1`] = `
Array [
  "ğŸ‰ Upgrading Betterer (0ms): 1 task done!
âœ… Upgrading \\"./.betterer.ts\\": done!
ãƒ»
ãƒ» Betterer can upgrade your test definition file automatically! âœ¨
ãƒ» Here's what the changes will look like:
ãƒ»
ãƒ» - Before
ãƒ» + After
ãƒ»
ãƒ»   const { BettererTest } = require('@betterer/betterer');
ãƒ»   const { bigger } = require('@betterer/constraints');
ãƒ»
ãƒ»   let start = 0;
ãƒ»
ãƒ» - module.exports.getsBetter = new BettererTest({
ãƒ» + module.exports.getsBetter = () =>
ãƒ» +   new BettererTest({
ãƒ» -   test: () => start++,
ãƒ» +     test: () => start++,
ãƒ» -   constraint: bigger
ãƒ» +     constraint: bigger
ãƒ» - });
ãƒ» +   });
ãƒ» +
ãƒ»
ãƒ» If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. ğŸ’¾
ãƒ»",
]
`;

exports[`betterer upgrade should upgrade exported constant tests in an ES module 1`] = `
Array [
  "ğŸ‰ Upgrading Betterer (0ms): 1 task done!
âœ… Upgrading \\"./.betterer.ts\\": done!
ãƒ»
ãƒ» Betterer can upgrade your test definition file automatically! âœ¨
ãƒ» Here's what the changes will look like:
ãƒ»
ãƒ» - Before
ãƒ» + After
ãƒ»
ãƒ»   import { BettererTest } from '@betterer/betterer';
ãƒ»   import { bigger } from '@betterer/constraints';
ãƒ»
ãƒ»   let start = 0;
ãƒ»
ãƒ» - export const getsBetter = new BettererTest({
ãƒ» + export const getsBetter = () =>
ãƒ» +   new BettererTest({
ãƒ» -   test: () => start++,
ãƒ» +     test: () => start++,
ãƒ» -   constraint: bigger
ãƒ» +     constraint: bigger
ãƒ» - });
ãƒ» +   });
ãƒ» +
ãƒ»
ãƒ» If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. ğŸ’¾
ãƒ»",
]
`;

exports[`betterer upgrade should upgrade exported default test in a CJS module 1`] = `
"const { BettererTest, BettererFileTest } = require('@betterer/betterer');
const { bigger } = require('@betterer/constraints');

let start = 0;

module.exports = {
  getsBetter: () =>
    new BettererTest({
      test: () => start++,
      constraint: bigger
    }),
  'gets better': () =>
    new BettererTest({
      test: () => start++,
      constraint: bigger
    }),
  countFiles: () =>
    new BettererFileTest(async (files, fileTestResult) => {
      const [filePath] = files;
      const file = fileTestResult.addFile(filePath, '');
      file.addIssue(0, 0, '\`$' + '{key}\`');
    }),
  'count files': () =>
    new BettererFileTest(async (files, fileTestResult) => {
      const [filePath] = files;
      const file = fileTestResult.addFile(filePath, '');
      file.addIssue(0, 0, '\`$' + '{key}\`');
    }).include('./src/**/*.ts')
};
"
`;

exports[`betterer upgrade should upgrade exported default test in a CJS module 2`] = `
Array [
  "ğŸ‰ Upgrading Betterer (0ms): 1 task done!
âœ… Upgrading \\"./.betterer.ts\\": done!
ãƒ»
ãƒ» Betterer can upgrade your test definition file automatically! âœ¨
ãƒ» Here's what the changes will look like:
ãƒ»
ãƒ» - Before
ãƒ» + After
ãƒ»
ãƒ»   const { BettererTest, BettererFileTest } = require('@betterer/betterer');
ãƒ»   const { bigger } = require('@betterer/constraints');
ãƒ»
ãƒ»   let start = 0;
ãƒ»
ãƒ»   module.exports = {
ãƒ» -   getsBetter: {
ãƒ» -     test: () => start++,
ãƒ» +   getsBetter: () =>
ãƒ» +     new BettererTest({
ãƒ» +       test: () => start++,
ãƒ» -     constraint: bigger
ãƒ» +       constraint: bigger
ãƒ» -   },
ãƒ» +     }),
ãƒ» -   'gets better': new BettererTest({
ãƒ» +   'gets better': () =>
ãƒ» +     new BettererTest({
ãƒ» -     test: () => start++,
ãƒ» +       test: () => start++,
ãƒ» -     constraint: bigger
ãƒ» +       constraint: bigger
ãƒ» -   }),
ãƒ» +     }),
ãƒ» -   countFiles: new BettererFileTest(async (files, fileTestResult) => {
ãƒ» -     const [filePath] = files;
ãƒ» +   countFiles: () =>
ãƒ» +     new BettererFileTest(async (files, fileTestResult) => {
ãƒ» +       const [filePath] = files;
ãƒ» -     const file = fileTestResult.addFile(filePath, '');
ãƒ» +       const file = fileTestResult.addFile(filePath, '');
ãƒ» -     file.addIssue(0, 0, '\`$' + '{key}\`');
ãƒ» +       file.addIssue(0, 0, '\`$' + '{key}\`');
ãƒ» -   }),
ãƒ» +     }),
ãƒ» -   'count files': new BettererFileTest(async (files, fileTestResult) => {
ãƒ» -     const [filePath] = files;
ãƒ» +   'count files': () =>
ãƒ» +     new BettererFileTest(async (files, fileTestResult) => {
ãƒ» +       const [filePath] = files;
ãƒ» -     const file = fileTestResult.addFile(filePath, '');
ãƒ» +       const file = fileTestResult.addFile(filePath, '');
ãƒ» -     file.addIssue(0, 0, '\`$' + '{key}\`');
ãƒ» +       file.addIssue(0, 0, '\`$' + '{key}\`');
ãƒ» -   }).include('./src/**/*.ts')
ãƒ» +     }).include('./src/**/*.ts')
ãƒ» - }
ãƒ» + };
ãƒ» +
ãƒ»
ãƒ» If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. ğŸ’¾
ãƒ»",
  "ğŸ‰ Upgrading Betterer (0ms): 1 task done!
âœ… Upgrading \\"./.betterer.ts\\": done!
ãƒ» Saved upgraded config to \\"<project>/fixtures/upgrade-exported-default-test-cjs/.betterer.ts\\"! â˜€ï¸",
]
`;

exports[`betterer upgrade should upgrade exported default test in an ES module 1`] = `
"import { BettererTest, BettererFileTest } from '@betterer/betterer';
import { bigger } from '@betterer/constraints';

let start = 0;

export default {
  getsBetter: () =>
    new BettererTest({
      test: () => start++,
      constraint: bigger
    }),
  'gets better': () =>
    new BettererTest({
      test: () => start++,
      constraint: bigger
    }),
  countFiles: () =>
    new BettererFileTest(async (files, fileTestResult) => {
      const [filePath] = files;
      const file = fileTestResult.addFile(filePath, '');
      file.addIssue(0, 0, '\`$' + '{key}\`');
    }),
  'count files': () =>
    new BettererFileTest(async (files, fileTestResult) => {
      const [filePath] = files;
      const file = fileTestResult.addFile(filePath, '');
      file.addIssue(0, 0, '\`$' + '{key}\`');
    }).include('./src/**/*.ts')
};
"
`;

exports[`betterer upgrade should upgrade exported default test in an ES module 2`] = `
Array [
  "ğŸ‰ Upgrading Betterer (0ms): 1 task done!
âœ… Upgrading \\"./.betterer.ts\\": done!
ãƒ»
ãƒ» Betterer can upgrade your test definition file automatically! âœ¨
ãƒ» Here's what the changes will look like:
ãƒ»
ãƒ» - Before
ãƒ» + After
ãƒ»
ãƒ»   import { BettererTest, BettererFileTest } from '@betterer/betterer';
ãƒ»   import { bigger } from '@betterer/constraints';
ãƒ»
ãƒ»   let start = 0;
ãƒ»
ãƒ»   export default {
ãƒ» -   getsBetter: {
ãƒ» -     test: () => start++,
ãƒ» +   getsBetter: () =>
ãƒ» +     new BettererTest({
ãƒ» +       test: () => start++,
ãƒ» -     constraint: bigger
ãƒ» +       constraint: bigger
ãƒ» -   },
ãƒ» +     }),
ãƒ» -   'gets better': new BettererTest({
ãƒ» +   'gets better': () =>
ãƒ» +     new BettererTest({
ãƒ» -     test: () => start++,
ãƒ» +       test: () => start++,
ãƒ» -     constraint: bigger
ãƒ» +       constraint: bigger
ãƒ» -   }),
ãƒ» +     }),
ãƒ» -   countFiles: new BettererFileTest(async (files, fileTestResult) => {
ãƒ» -     const [filePath] = files;
ãƒ» +   countFiles: () =>
ãƒ» +     new BettererFileTest(async (files, fileTestResult) => {
ãƒ» +       const [filePath] = files;
ãƒ» -     const file = fileTestResult.addFile(filePath, '');
ãƒ» +       const file = fileTestResult.addFile(filePath, '');
ãƒ» -     file.addIssue(0, 0, '\`$' + '{key}\`');
ãƒ» +       file.addIssue(0, 0, '\`$' + '{key}\`');
ãƒ» -   }),
ãƒ» +     }),
ãƒ» -   'count files': new BettererFileTest(async (files, fileTestResult) => {
ãƒ» -     const [filePath] = files;
ãƒ» +   'count files': () =>
ãƒ» +     new BettererFileTest(async (files, fileTestResult) => {
ãƒ» +       const [filePath] = files;
ãƒ» -     const file = fileTestResult.addFile(filePath, '');
ãƒ» +       const file = fileTestResult.addFile(filePath, '');
ãƒ» -     file.addIssue(0, 0, '\`$' + '{key}\`');
ãƒ» +       file.addIssue(0, 0, '\`$' + '{key}\`');
ãƒ» -   }).include('./src/**/*.ts')
ãƒ» +     }).include('./src/**/*.ts')
ãƒ» - }
ãƒ» + };
ãƒ» +
ãƒ»
ãƒ» If that looks okay, run \`betterer upgrade --save\` to write the changes to disk. ğŸ’¾
ãƒ»",
  "ğŸ‰ Upgrading Betterer (0ms): 1 task done!
âœ… Upgrading \\"./.betterer.ts\\": done!
ãƒ» Saved upgraded config to \\"<project>/fixtures/upgrade-exported-default-test-esm/.betterer.ts\\"! â˜€ï¸",
]
`;
